% correct spacing for \left \right commands
\let\originalleft\left
\let\originalright\right
\renewcommand{\left}{\mathopen{}\mathclose\bgroup\originalleft}
\renewcommand{\right}{\aftergroup\egroup\originalright}

% note/suggestion boxes
\newcommand*{\note}[1]{\smallskip\noindent\colorbox{SkyBlue}{
  \begin{minipage}{\linewidth}
  \textbf{Note }#1
  \end{minipage}}\smallskip
}
\newcommand*{\suggestion}[1]{\smallskip\noindent\colorbox{Dandelion}{
  \begin{minipage}{\linewidth}
  \textbf{Suggestion }#1
  \end{minipage}}\smallskip
}

% calculus (miscellaneous)
\newcommand*{\diff}{\mathrm{d}}
\newcommand*{\Diff}{\mathrm{D}}
\newcommand*{\loc}{\mathrm{loc}}
\newcommand*{\iunit}{\mathrm{i}}
\newcommand*{\inverse}[1]{#1^{-1}}
\newcommand*{\realpart}[1]{\mathrm{Re} \parens{#1}}
\newcommand*{\imagpart}[1]{\mathrm{Im} \parens{#1}}

% sets
\newcommand*{\set}[2]{\braces{\, #1 \mid #2 \,}}
\newcommand*{\N}{\ensuremath{{\mathbb{N}}}}
\newcommand*{\R}{\ensuremath{{\mathbb{R}}}}

% definition sign
\newcommand*{\defeq}{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily def}}}{=}}}

% parens, brackets, braces, angles
\newcommand*{\parens}[1]{\left( #1 \right)}
\newcommand*{\brackets}[1]{\left[ #1 \right]}
\newcommand*{\braces}[1]{\left\{ #1 \right\}}
\newcommand*{\angles}[1]{\langle #1 \rangle}

% norms
\newcommand*{\abs}[2][]{\ensuremath{\left|#2\right|_{#1}}}
\newcommand*{\norm}[2][]{\ensuremath{\left\|#2\right\|_{#1}}}

% inner products
\newcommand*{\inner}[3][parens]{%
  \IfEqCase{#1}{%
    {parens}{\parens{#2, #3}}%
    {angles}{\angles{#2, #3}}%
  }[\PackageError{inner}{Undefined option to inner: #1}{}]%
}

% function spaces
\newcommand*{\lebs}[2]{L^{#1} \parens{#2}}
\newcommand*{\leblocs}[2]{L^{#1}_{\loc} \parens{#2}}
